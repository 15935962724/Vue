<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>天气案例_监视属性</title>
        <!-- 引入vue -->
        <script type="text/javascript" src="../js/vue.js"></script>
    </head>

    <body>
       <!-- 
        -
        监视屈性watch:
        1.当被监视的属性变化时，回调函数自动调用，进行相关操作
        2.监视的属性必须存在，才能进行监视! !
        3.监视的两种写法:
            (1).new Vue时传入watch配置
            (2).通过vm.$watch监视
        -->

    <div id="root">
        <h2>今天天气很{{info}}，{{x}}</h2>
        <button @click="changeWeather">切换天气</button>
        <!-- @xxx='yyy'   yyy可以写一些简单的语句-->
        <!-- <button @click="isHot=!isHot,x++">切换天气</button> -->
        <!-- <button @click="window.alert(1)">切换天气</button> -->
    </div>


    <script type="text/javascript">
        Vue.config.productionTip = false;//阻止vue在启动时产生提示
      const vm =     new Vue({ 
      el: '#root',
      data:{
        isHot:true,
        x:1,
        window
        },
        //计算属性
        computed:{
            info(){
                
                return this.isHot?'炎热':'凉爽'

            }
        },
        //函数方法
        methods: {
            changeWeather(){
                 this.isHot = !this.isHot;
                 this.x++    
            }
        },
        //watch监视
        // watch:{
        //     isHot:{
        //         immediate:true,//初始化时让handler调用一下
        //         //handler 什么时候调用，当isHost发生改变时
        //         handler(newValue,oleValue){
        //             console.log('isHost被修改了',newValue,oleValue)
        //         }
        //     }
        // },
        
      });
      vm.$watch('isHot',{
                immediate:true,//初始化时让handler调用一下
                //handler 什么时候调用，当isHost发生改变时
                handler(newValue,oleValue){
                    console.log('isHost被修改了',newValue,oleValue)
                }
        })
    </script>
        
    </body>
</html>
