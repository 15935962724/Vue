<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>7模拟一个数据监测</title>
        <!-- 引入vue -->
        <script type="text/javascript" src="../js/vue.js"></script>
    </head>

    <body>
     
    <div id="root">
        <h2>学校名称：{{name}}</h2>
        <h2>学校地址：{{address}}</h2>
        
        
    </div>


    <script type="text/javascript">
     
      let data = {
        name:'尚硅谷',
        address:'北京'
      }
     
      //创建一个监视的实例对象，用于监视data中的属性的变化
      const obs = new Observer(data)

      let vm = {};
      vm._data = data = obs;


      function Observer(obj){
          const keys = Object.keys(obj);
          keys.forEach((k)=>{
            Object.defineProperty(this,k,{
              get(){
                return obj[k];
              },
              set(){
                console.log('${k}被修改了，我要去解析模板，生成虚拟dom。。。我要开始忙了')
                return obj[k] = val ;
              }

            })

          })
      }
      // Object.defineProperty(data,'name',{
      //   get(){
      //     return data.name
      //   },
      //   set(val){
      //     data.name = val;
      //   }

      // })

      
    </script>
        
    </body>
</html>
